# Shannon å¸¸è§é—®é¢˜è§£ç­” (FAQ)

## ğŸ“‹ ç›®å½•

- [å®‰è£…ä¸é…ç½®](#å®‰è£…ä¸é…ç½®)
- [ä½¿ç”¨é—®é¢˜](#ä½¿ç”¨é—®é¢˜)
- [æ€§èƒ½ä¼˜åŒ–](#æ€§èƒ½ä¼˜åŒ–)
- [æ•…éšœæ’é™¤](#æ•…éšœæ’é™¤)
- [å¼€å‘ç›¸å…³](#å¼€å‘ç›¸å…³)

---

## å®‰è£…ä¸é…ç½®

### Q1: æœ€ä½ç³»ç»Ÿè¦æ±‚æ˜¯ä»€ä¹ˆï¼Ÿ

**A:** Shannon éœ€è¦ä»¥ä¸‹æœ€ä½é…ç½®ï¼š
- **CPU**: 2 æ ¸å¿ƒæˆ–æ›´å¤š
- **å†…å­˜**: 4GB RAMï¼ˆæ¨è 8GBï¼‰
- **å­˜å‚¨**: 10GB å¯ç”¨ç©ºé—´
- **æ“ä½œç³»ç»Ÿ**: 
  - Linux (Ubuntu 20.04+, Rocky Linux 8+)
  - macOS (Intel/Apple Silicon)
  - Windows 10/11 (é€šè¿‡ WSL2 æˆ– Docker Desktop)
- **è½¯ä»¶è¦æ±‚**:
  - Docker 20.10+
  - Docker Compose v2.0+

### Q2: å¦‚ä½•åœ¨ Windows ä¸Šè¿è¡Œ Shannonï¼Ÿ

**A:** Windows ç”¨æˆ·æœ‰ä¸¤ç§æ–¹å¼ï¼š

**æ–¹å¼ 1: ä½¿ç”¨ Docker Desktopï¼ˆæ¨èï¼‰**
```bash
# 1. å®‰è£… Docker Desktop for Windows
# 2. ç¡®ä¿å¯ç”¨ WSL2 æ”¯æŒ
# 3. å…‹éš†é¡¹ç›®åˆ° WSL2 æ–‡ä»¶ç³»ç»Ÿä¸­
wsl
git clone https://github.com/Kocoro-lab/Shannon.git
cd Shannon
make setup
make dev
```

**æ–¹å¼ 2: ä½¿ç”¨ WSL2**
```bash
# åœ¨ WSL2 Ubuntu ä¸­æ“ä½œ
sudo apt update
sudo apt install docker.io docker-compose
# ç„¶åæŒ‰ç…§æ ‡å‡† Linux å®‰è£…æµç¨‹
```

### Q3: æ”¯æŒå“ªäº› LLM æä¾›å•†ï¼Ÿ

**A:** Shannon æ”¯æŒä»¥ä¸‹ LLM æä¾›å•†ï¼š

| æä¾›å•† | æ”¯æŒçŠ¶æ€ | é…ç½®æ–¹å¼ |
|--------|---------|----------|
| OpenAI | âœ… å®Œå…¨æ”¯æŒ | `OPENAI_API_KEY` |
| Anthropic (Claude) | âœ… å®Œå…¨æ”¯æŒ | `ANTHROPIC_API_KEY` |
| Google (Gemini) | âœ… å®Œå…¨æ”¯æŒ | `GOOGLE_API_KEY` |
| DeepSeek | âœ… å®Œå…¨æ”¯æŒ | `DEEPSEEK_API_KEY` |
| Groq | âœ… å®Œå…¨æ”¯æŒ | `GROQ_API_KEY` |
| Ollama | âœ… æœ¬åœ°éƒ¨ç½² | é…ç½® `base_url` |
| è‡ªå®šä¹‰å…¼å®¹ API | âœ… æ”¯æŒ | é…ç½® `provider_settings` |

### Q4: å¦‚ä½•é…ç½®è‡ªå®šä¹‰ LLM ç«¯ç‚¹ï¼Ÿ

**A:** åœ¨ `config/models.yaml` ä¸­æ·»åŠ ï¼š

```yaml
provider_settings:
  my_custom_llm:
    base_url: "https://api.example.com/v1"
    api_key_env: "MY_CUSTOM_API_KEY"
    timeout: 30
    max_retries: 3
```

ç„¶ååœ¨ `.env` æ–‡ä»¶ä¸­è®¾ç½®ï¼š
```bash
MY_CUSTOM_API_KEY=your_api_key_here
```

---

## ä½¿ç”¨é—®é¢˜

### Q5: å¦‚ä½•æäº¤ç¬¬ä¸€ä¸ª AI ä»»åŠ¡ï¼Ÿ

**A:** æœ‰å¤šç§æ–¹å¼æäº¤ä»»åŠ¡ï¼š

**æ–¹å¼ 1: ä½¿ç”¨ Dashboard UIï¼ˆæ¨èæ–°æ‰‹ï¼‰**
```bash
# è®¿é—® http://localhost:2111
# åœ¨ç•Œé¢ä¸­è¾“å…¥ä»»åŠ¡å¹¶æäº¤
```

**æ–¹å¼ 2: REST API**
```bash
export GATEWAY_SKIP_AUTH=1  # å¼€å‘ç¯å¢ƒ
curl -X POST http://localhost:8080/api/v1/tasks \
  -H "Content-Type: application/json" \
  -d '{
    "query": "åˆ†æè¿™æ®µæ–‡æœ¬çš„æƒ…æ„Ÿï¼šShannon è®© AI ä»£ç†å¼€å‘å˜ç®€å•äº†ï¼",
    "session_id": "demo-session"
  }'
```

**æ–¹å¼ 3: Python SDK**
```python
from shannon import ShannonClient

# åˆå§‹åŒ–å®¢æˆ·ç«¯
client = ShannonClient(
    grpc_endpoint="localhost:50052",
    api_key="your-api-key"  # å¯é€‰
)

# æäº¤ä»»åŠ¡
handle = client.submit_task(
    "ä½ å¥½ï¼ŒShannonï¼",
    session_id="demo-session",
    user_id="demo"
)

print(f"ä»»åŠ¡ ID: {handle.task_id}")
print(f"å·¥ä½œæµ ID: {handle.workflow_id}")

# è·å–çŠ¶æ€
status = client.get_status(handle.task_id)
print(f"çŠ¶æ€: {status.status}")

client.close()
```

**å®‰è£… SDK:**
```bash
pip install -e ./clients/python
```

### Q6: å¦‚ä½•å®ç°å®æ—¶æµå¼è¾“å‡ºï¼Ÿ

**A:** Shannon æ”¯æŒä¸‰ç§æµå¼æ–¹å¼ï¼š

**1. Server-Sent Events (SSE) - æµè§ˆå™¨å‹å¥½**
```bash
curl -N "http://localhost:8081/stream/sse?workflow_id=YOUR_WORKFLOW_ID"
```

**2. WebSocket - åŒå‘é€šä¿¡**
```bash
wscat -c "ws://localhost:8081/stream/ws?workflow_id=YOUR_WORKFLOW_ID"
```

**3. gRPC æµå¼**
```bash
grpcurl -plaintext \
  -d '{"workflowId":"YOUR_WORKFLOW_ID"}' \
  localhost:50052 shannon.orchestrator.StreamingService/StreamTaskExecution
```

### Q7: å¦‚ä½•æ§åˆ¶ Token æˆæœ¬ï¼Ÿ

**A:** Shannon æä¾›å¤šå±‚æˆæœ¬æ§åˆ¶ï¼š

**1. è®¾ç½®ä»»åŠ¡é¢„ç®—**
```json
{
  "query": "ä½ çš„ä»»åŠ¡",
  "config": {
    "budget": {
      "max_tokens": 5000,
      "fallback_model": "gpt-4.1-mini"
    }
  }
}
```

**2. ä½¿ç”¨ OPA ç­–ç•¥é™åˆ¶**
```rego
# config/opa/policies/budget.rego
package shannon.budget

max_tokens = 10000 {
    input.team == "support"
}

max_tokens = 100000 {
    input.team == "research"
}
```

**3. å¯ç”¨æ™ºèƒ½è·¯ç”±**
- Shannon çš„å­¦ä¹ è·¯ç”±å™¨ä¼šè‡ªåŠ¨é€‰æ‹©æ€§ä»·æ¯”æœ€é«˜çš„æ¨¡å‹
- å¯èŠ‚çœ 85-95% token æˆæœ¬ï¼ˆå†…éƒ¨æµ‹è¯•ï¼‰

### Q8: å¦‚ä½•å®ç°å¤šä»£ç†åä½œï¼Ÿ

**A:** ä½¿ç”¨å·¥ä½œæµæ¨¡æ¿ï¼š

```yaml
# config/workflows/user/multi-agent-example.yaml
name: multi_agent_research
pattern: supervisor
agents:
  - id: researcher
    role: "ç ”ç©¶ä¸“å®¶"
    tools: ["web_search", "document_read"]
  - id: analyst
    role: "æ•°æ®åˆ†æå¸ˆ"
    tools: ["python_execute", "chart_generate"]
  - id: writer
    role: "æŠ¥å‘Šæ’°å†™"
    tools: ["markdown_format"]
coordination:
  strategy: sequential
  supervisor_model: "gpt-4.1"
```

---

## æ€§èƒ½ä¼˜åŒ–

### Q9: å¦‚ä½•æé«˜å“åº”é€Ÿåº¦ï¼Ÿ

**A:** ä»¥ä¸‹ä¼˜åŒ–å¯æ˜¾è‘—æå‡æ€§èƒ½ï¼š

**1. å¯ç”¨å“åº”ç¼“å­˜**
```yaml
# config/models.yaml
prompt_cache:
  enabled: true
  ttl_seconds: 3600
  backend: redis  # æˆ– memory
```

**2. ä½¿ç”¨ä¼šè¯æŒä¹…åŒ–**
```bash
# ç›¸åŒ session_id ä¼šé‡ç”¨ä¸Šä¸‹æ–‡
curl -X POST http://localhost:8080/api/v1/tasks \
  -d '{"query": "ç»§ç»­ä¸Šæ¬¡çš„è¯é¢˜", "session_id": "user-123"}'
```

**3. è°ƒæ•´æ¨¡å‹å±‚çº§**
- ç®€å•ä»»åŠ¡ç”¨ `gpt-4.1-nano`
- å¤æ‚ä»»åŠ¡ç”¨ `gpt-4.1` æˆ– `claude-sonnet-4-5-20250929`

### Q10: å¦‚ä½•å¤„ç†é«˜å¹¶å‘ï¼Ÿ

**A:** Shannon å¤©ç”Ÿæ”¯æŒæ¨ªå‘æ‰©å±•ï¼š

**1. å¢åŠ æœåŠ¡å®ä¾‹**
```yaml
# docker-compose.yml
services:
  orchestrator:
    deploy:
      replicas: 3
  agent-core:
    deploy:
      replicas: 5
```

**2. é…ç½®é€Ÿç‡é™åˆ¶**
```yaml
# config/features.yaml
rate_limits:
  orchestrator:
    requests_per_minute: 60
    tokens_per_minute: 100000
```

**3. ä½¿ç”¨ Redis é›†ç¾¤**
```bash
# é…ç½® Redis å“¨å…µæˆ–é›†ç¾¤æ¨¡å¼
REDIS_URL=redis-sentinel://sentinel1:26379,sentinel2:26379/mymaster
```

---

## æ•…éšœæ’é™¤

### Q11: æœåŠ¡å¯åŠ¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A:** æŒ‰ä»¥ä¸‹æ­¥éª¤æ’æŸ¥ï¼š

**1. æ£€æŸ¥ç«¯å£å ç”¨**
```bash
# Windows
netstat -ano | findstr "8080 50051 50052"

# Linux/Mac
lsof -i :8080 -i :50051 -i :50052
```

**2. æŸ¥çœ‹æœåŠ¡æ—¥å¿—**
```bash
docker compose logs orchestrator
docker compose logs agent-core
docker compose logs llm-service
```

**3. éªŒè¯ä¾èµ–æœåŠ¡**
```bash
# æ£€æŸ¥æ•°æ®åº“è¿æ¥
docker compose exec postgres pg_isready
docker compose exec redis redis-cli ping
```

**4. é‡ç½®ç¯å¢ƒ**
```bash
make clean
docker compose down -v
make setup
make dev
```

### Q12: Token è¶…å‡ºé¢„ç®—æ€ä¹ˆåŠï¼Ÿ

**A:** å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼æ§åˆ¶ï¼š

**1. æŸ¥çœ‹ä½¿ç”¨æƒ…å†µ**
```bash
grpcurl -plaintext \
  -d '{"sessionId":"YOUR_SESSION_ID"}' \
  localhost:50052 shannon.orchestrator.OrchestratorService/GetSessionContext
```

**2. è®¾ç½®ç†”æ–­å™¨**
```json
{
  "config": {
    "budget": {
      "circuit_breaker": {
        "threshold": 0.8,
        "cooldown_seconds": 60
      }
    }
  }
}
```

**3. å¯ç”¨è‡ªåŠ¨é™çº§**
- å½“è¾¾åˆ° 80% é¢„ç®—æ—¶ï¼Œè‡ªåŠ¨åˆ‡æ¢åˆ°æ›´ä¾¿å®œçš„æ¨¡å‹

### Q13: å¦‚ä½•è°ƒè¯•å·¥ä½œæµå¤±è´¥ï¼Ÿ

**A:** ä½¿ç”¨ Shannon çš„æ—¶å…‰æ—…è¡Œè°ƒè¯•ï¼š

**1. å¯¼å‡ºå¤±è´¥çš„å·¥ä½œæµ**
```bash
./scripts/replay_workflow.sh export task-failed-123 debug.json
```

**2. æœ¬åœ°é‡æ”¾**
```bash
./scripts/replay_workflow.sh replay debug.json
```

**3. æ£€æŸ¥ Temporal UI**
```bash
# è®¿é—® http://localhost:8088
# æŸ¥çœ‹å·¥ä½œæµæ‰§è¡Œå†å²
```

### Q14: WASI æ²™ç®±ä¸­ Python ä»£ç æ‰§è¡Œå¤±è´¥ï¼Ÿ

**A:** å¸¸è§é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆï¼š

**é—®é¢˜ 1: ç½‘ç»œè¯·æ±‚è¢«é˜»æ­¢**
```python
# âŒ ä¸æ”¯æŒç½‘ç»œæ“ä½œ
import urllib.request
urllib.request.urlopen('http://example.com')  # ä¼šå¤±è´¥

# âœ… ä½¿ç”¨ Shannon æä¾›çš„å·¥å…·
# è®© LLM è°ƒç”¨ web_search æˆ– api_call å·¥å…·
```

**é—®é¢˜ 2: æ–‡ä»¶ç³»ç»Ÿåªè¯»**
```python
# âŒ ä¸èƒ½å†™å…¥æ–‡ä»¶ç³»ç»Ÿ
with open('/tmp/file.txt', 'w') as f:  # ä¼šå¤±è´¥
    f.write('data')

# âœ… ä½¿ç”¨ä¼šè¯å­˜å‚¨
data = {'result': [1, 2, 3]}
print(data)  # è¾“å‡ºä¼šè¢«æ•è·
```

**é—®é¢˜ 3: ç¼ºå°‘ Python åº“**
```bash
# WASI ç¯å¢ƒåªåŒ…å«æ ‡å‡†åº“
# å¦‚éœ€ç‰¹æ®Šåº“ï¼Œæäº¤ Issue è¯·æ±‚æ·»åŠ 
```

---

## å¼€å‘ç›¸å…³

### Q15: å¦‚ä½•æ·»åŠ è‡ªå®šä¹‰å·¥å…·ï¼Ÿ

**A:** æœ‰ä¸‰ç§æ–¹å¼æ·»åŠ å·¥å…·ï¼š

**æ–¹å¼ 1: Python MCP å·¥å…·ï¼ˆæ¨èï¼‰**
```python
# python/llm-service/tools/my_tool.py
from mcp import Tool

class MyCustomTool(Tool):
    name = "my_custom_tool"
    description = "å·¥å…·æè¿°"
    
    async def execute(self, **kwargs):
        # å·¥å…·é€»è¾‘
        return {"result": "success"}
```

**æ–¹å¼ 2: OpenAPI é›†æˆ**
```yaml
# åœ¨ä»»åŠ¡ä¸­ä½¿ç”¨
{
  "tools": [{
    "type": "openapi",
    "spec_url": "https://api.example.com/openapi.json",
    "operations": ["getUser", "createOrder"]
  }]
}
```

**æ–¹å¼ 3: Rust åŸç”Ÿå·¥å…·**
```rust
// rust/agent-core/src/tools/my_tool.rs
pub async fn execute_my_tool(input: ToolInput) -> Result<ToolOutput> {
    // é«˜æ€§èƒ½å·¥å…·é€»è¾‘
}
```

è¯¦è§ï¼š[æ·»åŠ è‡ªå®šä¹‰å·¥å…·æŒ‡å—](../adding-custom-tools.md)

### Q16: å¦‚ä½•å‚ä¸è´¡çŒ®ï¼Ÿ

**A:** æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼

**1. æ–‡æ¡£è´¡çŒ®ï¼ˆæ–°æ‰‹å‹å¥½ï¼‰**
- ç¿»è¯‘è‹±æ–‡æ–‡æ¡£
- è¡¥å……ä½¿ç”¨æ¡ˆä¾‹
- æ”¹è¿›ä»£ç ç¤ºä¾‹

**2. ä»£ç è´¡çŒ®**
```bash
# Fork é¡¹ç›®
git clone https://github.com/YOUR_USERNAME/Shannon.git
cd Shannon

# åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/my-feature

# å¼€å‘å¹¶æµ‹è¯•
make dev
make test
make lint

# æäº¤ PR
git push origin feature/my-feature
```

**3. é—®é¢˜åé¦ˆ**
- æŠ¥å‘Š Bugï¼š[æäº¤ Issue](https://github.com/Kocoro-lab/Shannon/issues/new)
- åŠŸèƒ½å»ºè®®ï¼š[å‘èµ·è®¨è®º](https://github.com/Kocoro-lab/Shannon/discussions)

è¯¦è§ï¼š[è´¡çŒ®æŒ‡å—](../../CONTRIBUTING.md)

### Q17: æœ¬åœ°å¼€å‘ç¯å¢ƒå¦‚ä½•é…ç½®ï¼Ÿ

**A:** ä¸¤ç§å¼€å‘æ–¹å¼ï¼š

**å®Œæ•´ Docker ç¯å¢ƒï¼ˆå¿«é€Ÿå¼€å§‹ï¼‰**
```bash
make setup
make dev
make smoke  # éªŒè¯
```

**æœ¬åœ°æœåŠ¡å¼€å‘ï¼ˆé«˜çº§ï¼‰**
```bash
# 1. å¯åŠ¨ä¾èµ–æœåŠ¡
docker compose up -d postgres redis qdrant temporal

# 2. åˆ†åˆ«å¯åŠ¨æœåŠ¡
# Terminal 1 - Orchestrator (Go)
cd go/orchestrator && go run ./cmd/server

# Terminal 2 - Agent Core (Rust)
cd rust/agent-core && cargo run

# Terminal 3 - LLM Service (Python)
cd python/llm-service && python -m uvicorn main:app --reload

# Terminal 4 - Gateway
cd go/gateway && go run ./cmd/server

# Terminal 5 - Dashboard
cd observability/dashboard && npm run dev
```

---

## æ›´å¤šå¸®åŠ©

### è·å–æ”¯æŒ

- ğŸ“– [å®Œæ•´æ–‡æ¡£](https://github.com/Kocoro-lab/Shannon/blob/main/README.md)
- ğŸ’¬ [Discord ç¤¾åŒº](https://discord.gg/NB7C2fMcQR)
- ğŸ› [é—®é¢˜è¿½è¸ª](https://github.com/Kocoro-lab/Shannon/issues)
- ğŸ’¡ [åŠŸèƒ½è®¨è®º](https://github.com/Kocoro-lab/Shannon/discussions)

### æœ‰ç”¨çš„å‘½ä»¤

```bash
# æŸ¥çœ‹æ‰€æœ‰å¯ç”¨å‘½ä»¤
make help

# å¥åº·æ£€æŸ¥
make smoke

# æŸ¥çœ‹æ—¥å¿—
make logs

# æ¸…ç†ç¯å¢ƒ
make clean

# è¿è¡Œæµ‹è¯•
make test

# ä»£ç æ£€æŸ¥
make lint
```

---

*æœ€åæ›´æ–°ï¼š2025 å¹´ 10 æœˆ*

