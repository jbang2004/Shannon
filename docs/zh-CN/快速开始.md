# Shannon å¿«é€Ÿå¼€å§‹æŒ‡å—

æ¬¢è¿ä½¿ç”¨ Shannonï¼è¿™æ˜¯ä¸€ä¸ªä¼ä¸šçº§ AI ä»£ç†ç¼–æ’å™¨ï¼Œæ”¯æŒå¤šæ¨¡å‹è·¯ç”±å’Œè‡ªå®šä¹‰ API ç«¯ç‚¹ã€‚

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Docker å’Œ Docker Compose
- Git
- è‡³å°‘ 4GB å¯ç”¨å†…å­˜

### 2. å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/Kocoro-lab/Shannon.git
cd Shannon
```

### 3. é…ç½®ç¯å¢ƒå˜é‡

å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿ï¼š

```bash
cp .env.example .env
```

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œæ·»åŠ ä½ çš„ API å¯†é’¥ï¼š

```bash
# OpenAI
OPENAI_API_KEY=your_openai_api_key_here

# Anthropic
ANTHROPIC_API_KEY=your_anthropic_api_key_here

# Google
GOOGLE_API_KEY=your_google_api_key_here

# DeepSeek
DEEPSEEK_API_KEY=your_deepseek_api_key_here
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# æ„å»ºå¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker compose -f deploy/compose/docker-compose.yml up -d --build

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker compose -f deploy/compose/docker-compose.yml ps
```

### 5. éªŒè¯å®‰è£…

ç­‰å¾…æ‰€æœ‰æœåŠ¡å¯åŠ¨å®Œæˆï¼ˆçº¦ 2-3 åˆ†é’Ÿï¼‰ï¼Œç„¶åè®¿é—®ï¼š

- **API æ–‡æ¡£**ï¼šhttp://localhost:8000/docs
- **å¥åº·æ£€æŸ¥**ï¼šhttp://localhost:8000/health

## ğŸ”§ é…ç½®è¯´æ˜

### æ¨¡å‹é…ç½®

Shannon ä½¿ç”¨ `config/models.yaml` æ–‡ä»¶æ¥é…ç½®æ¨¡å‹è·¯ç”±å’Œå®šä»·ï¼š

```yaml
model_tiers:
  small:
    providers:
      - provider: openai
        model: gpt-4.1-nano
        priority: 1
  medium:
    providers:
      - provider: openai
        model: gpt-4.1-mini
        priority: 1
  large:
    providers:
      - provider: openai
        model: gpt-4.1
        priority: 1
```

### è‡ªå®šä¹‰ API ç«¯ç‚¹

å¦‚æœä½ æœ‰ç§æœ‰éƒ¨ç½²çš„ LLM æœåŠ¡ï¼Œå¯ä»¥åœ¨ `config/models.yaml` ä¸­æ·»åŠ ï¼š

```yaml
provider_settings:
  custom_provider:
    base_url: "https://your-custom-api.com/v1"
    api_key_env: "CUSTOM_API_KEY"
    timeout: 30
```

ç„¶ååœ¨ `.env` æ–‡ä»¶ä¸­æ·»åŠ ï¼š

```bash
CUSTOM_API_KEY=your_custom_api_key_here
```

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### åŸºæœ¬ API è°ƒç”¨

```bash
curl -X POST "http://localhost:8000/v1/chat/completions" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "gpt-4.1-mini",
    "messages": [
      {"role": "user", "content": "ä½ å¥½ï¼ŒShannonï¼"}
    ]
  }'
```

### Python å®¢æˆ·ç«¯

```python
import requests

response = requests.post(
    "http://localhost:8000/v1/chat/completions",
    json={
        "model": "gpt-4.1-mini",
        "messages": [
            {"role": "user", "content": "è¯·å¸®æˆ‘å†™ä¸€ä¸ª Python å‡½æ•°æ¥è®¡ç®—æ–æ³¢é‚£å¥‘æ•°åˆ—"}
        ]
    }
)

print(response.json())
```

## ğŸ› ï¸ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

**Q: æœåŠ¡å¯åŠ¨å¤±è´¥æ€ä¹ˆåŠï¼Ÿ**
A: æ£€æŸ¥ Docker æ˜¯å¦æ­£åœ¨è¿è¡Œï¼Œç¡®ä¿ç«¯å£ 8000 æ²¡æœ‰è¢«å ç”¨ã€‚

**Q: API è°ƒç”¨è¿”å› 401 é”™è¯¯ï¼Ÿ**
A: æ£€æŸ¥ `.env` æ–‡ä»¶ä¸­çš„ API å¯†é’¥æ˜¯å¦æ­£ç¡®è®¾ç½®ã€‚

**Q: å¦‚ä½•æŸ¥çœ‹æ—¥å¿—ï¼Ÿ**
A: ä½¿ç”¨ `docker compose logs -f` æŸ¥çœ‹å®æ—¶æ—¥å¿—ã€‚

**Q: å¦‚ä½•åœæ­¢æœåŠ¡ï¼Ÿ**
A: è¿è¡Œ `docker compose -f deploy/compose/docker-compose.yml down`

### æ—¥å¿—æŸ¥çœ‹

```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
docker compose -f deploy/compose/docker-compose.yml logs

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
docker compose -f deploy/compose/docker-compose.yml logs llm-service

# å®æ—¶æŸ¥çœ‹æ—¥å¿—
docker compose -f deploy/compose/docker-compose.yml logs -f
```

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

### æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬

```bash
git pull origin main
docker compose -f deploy/compose/docker-compose.yml up -d --build
```

### æ¸…ç† Docker èµ„æº

```bash
# æ¸…ç†æœªä½¿ç”¨çš„é•œåƒ
docker image prune -f

# æ¸…ç†æ‰€æœ‰æœªä½¿ç”¨çš„èµ„æº
docker system prune -f
```

## ğŸ“š æ›´å¤šèµ„æº

- [å®Œæ•´æ–‡æ¡£](https://github.com/Kocoro-lab/Shannon/blob/main/README.md)
- [API å‚è€ƒ](http://localhost:8000/docs)
- [é—®é¢˜åé¦ˆ](https://github.com/Kocoro-lab/Shannon/issues)
- [è´¡çŒ®æŒ‡å—](https://github.com/Kocoro-lab/Shannon/blob/main/CONTRIBUTING.md)

## ğŸ¤ è´¡çŒ®

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼è¯·æŸ¥çœ‹ [è´¡çŒ®æŒ‡å—](https://github.com/Kocoro-lab/Shannon/blob/main/CONTRIBUTING.md) äº†è§£å¦‚ä½•å‚ä¸ã€‚

---

*éœ€è¦å¸®åŠ©ï¼Ÿè¯·åˆ›å»º [Issue](https://github.com/Kocoro-lab/Shannon/issues) æˆ–è”ç³»ç»´æŠ¤è€…ã€‚*